<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>PH值對酸雨之影響</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css">
    <link rel="stylesheet" href="main.css">

</head>

<body>
    <div style="margin: 0 auto;">
        <div class="fram">
            <img class="imgset" src="img/temperature.png">
            土壤溫度:
            <span id="temperature">none</span>
            <br>
        </div>
        <p></p>
        <div class="fram">
            <img class="imgset" src="img/wet.png">
            土壤濕度:
            <span id="humidity">none</span>
            <br>
        </div>
        <p>
        <!-- <div class="fram">
            <img class="imgset" src="img/PH.png">
            PH值:
            <span id="phVal">none</span>
            <br>
        </div> -->
        <p>
        <div class="fram">
            <img class="imgset" src="img/rainy.jpg">
            下雨檢測:
            <span id="rainyVal">none</span>
            <br>
        </div>
    </div>
</body>
</html>

<script>
    setup();
    
    var temperature = 1000; //溫度
    var temp;
    var humidity;    //溼度
    //var phVal;       //PH值
    var rainyVal;    //雨水感測


    //持續取得值
    function loop() { 
        if(cpf){
           // temperature = cpf.get("d8");

            temperature = cpf.get("DHT11","d8","dht11temp");
            humidity2 = cpf.get("DHT11","d8","dht11humi");

            humidity = cpf.get("a1");
            //phVal = cpf.get("");
            rainyVal = cpf.get("a0");

            document.getElementById("temperature").innerHTML = temperature;
            document.getElementById("humidity").innerHTML = humidity;
            //document.getElementById("phVal").innerHTML = phVal;
            document.getElementById("rainyVal").innerHTML = rainyVal;

        }
        setTimeout(loop, 1000);
    }
    loop();


    //cpf setup
    function setup(){
        if(cpf)
            cpf.setPinMode('["resetPin"], ["setPinMode", "digital", 8, "DHT11"], ["setPinMode", "analog", 1, "INPUT"], ["setPinMode", "analog", 0, "INPUT"]')
    } 
    
</script>